#include <iostream>
#include <thread>
#include <vector>
#include <chrono>
using namespace std;

void pause_thread(int n)
{
    this_thread::sleep_for (chrono::milliseconds(n));
}

void ThreadsumArray(vector<int> array, int firstIndex, int secondIndex, int &sum){
    for (int i = firstIndex;i<=secondIndex;i++) sum+=array[i];
}

int main() {
    
    int arrSize = 1000;
    int sum = 0;
    vector<int> arr;//сам массив
    arr.resize(arrSize);//задаю размер

    for (int i=0; i < arrSize; i++)arr[i] = i + 1;//ячейка массива равна ее номеру(от одного до 1000)
    
    //в общей сумме тут 10 потоков реализованных фором
    for (int i =0; i<=1000;i+=100){
        thread thr(ThreadsumArray,arr,i,i+99,ref(sum));
        thr.detach();
    }
    
    pause_thread(1);//пауза, чтобы return не сработал раньше времени

    cout<<sum<<endl;
    return 0;
}
